<button
	class="custom-button"
	[ngClass]="[
		'type-' + type(),
		'size-' + size(),
		'link-' + linkAppearance(),
		iconPosition(),
	]"
	[disabled]="disabled()"
	(mouseenter)="elementState.updateState(state, StateTypes.Hover, true)"
	(mouseleave)="elementState.updateState(state, StateTypes.Hover, false)"
	(mousedown)="elementState.updateState(state, StateTypes.Pressed, true)"
	(mouseup)="elementState.updateState(state, StateTypes.Pressed, false)"
	(focus)="elementState.checkFocus($event, state)"
>
	@if (icon() | mapper: hasIcon : iconPosition() === IconPosition.OnlyIcon) {
		<ss-lib-icon
			[icon]="icon()!"
			[height]="styleConfig().iconSize"
			[width]="styleConfig().iconSize"
			[color]="buttonIconColors() | getColor: state() : disabled() : true"
		/>
	} @else {
		@if (icon() | mapper: hasIcon : iconPosition() === IconPosition.Start) {
			<ss-lib-icon
				[icon]="icon()!"
				[height]="styleConfig().iconSize"
				[width]="styleConfig().iconSize"
				[color]="
					buttonIconColors() | getColor: state() : disabled() : false
				"
			/>
		}

		<div
			class="custom-button__text"
			[class.underline]="
				state() | mapper: textUnderline : linkAppearance() : disabled()
			"
		>
			<ss-lib-text
				[type]="styleConfig().type"
				[weight]="styleConfig().weight"
				[align]="Align.Start"
				[isLineClamp]="true"
				[color]="
					buttonTextColors() | getColor: state() : disabled() : false
				"
			>
				{{ text() }}
			</ss-lib-text>
		</div>

		@if (icon() | mapper: hasIcon : iconPosition() === IconPosition.End) {
			<ss-lib-icon
				[icon]="icon()!"
				[height]="styleConfig().iconSize"
				[width]="styleConfig().iconSize"
				[color]="
					buttonIconColors() | getColor: state() : disabled() : false
				"
			/>
		}
	}
</button>
