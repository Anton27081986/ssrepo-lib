<button
    class="custom-button"
    [ngClass]="['type-' + type(), 'size-' + size(), iconPosition()]"
    [disabled]="disabled()"
    (mouseenter)="updateState(StateTypes.Hover, true)"
    (mouseleave)="updateState(StateTypes.Hover, false)"
    (mousedown)="updateState(StateTypes.Pressed, true)"
    (mouseup)="updateState(StateTypes.Pressed, false)"
    (focus)="checkFocus($event)"

>
    @if (icon() | mapper: hasIcon : iconPosition() === IconPosition.OnlyIcon) {
        <ss-lib-icon
            [icon]="icon()!"
            [height]="'20'"
            [width]="'20'"
            [color]="buttonIconColors() | getColor : state() : disabled() : true"
        />
    } @else {
        @if (icon() | mapper : hasIcon :iconPosition() === IconPosition.Start) {
            <ss-lib-icon
                [icon]="icon()!"
                [height]="'20'"
                [width]="'20'"
                [color]="buttonIconColors() | getColor : state() : disabled() : false"
            />
        }

        @switch (size()) {
            @case (ButtonSize.sm) {
                <ss-lib-text
                    [type]="TextType.BodySm"
                    [weight]="TextWeight.Regular"
                    [color]="buttonTextColors() | getColor : state() : disabled() : false"
                >
                    {{ text() }}
                </ss-lib-text>
            }
            @case (ButtonSize.md) {
                <ss-lib-text
                    [type]="TextType.BodySm"
                    [weight]="TextWeight.Regular"
                    [color]="buttonTextColors() | getColor : state() : disabled() : false"
                >
                    {{ text() }}
                </ss-lib-text>
            }
            @case (ButtonSize.lg) {
                <ss-lib-text
                    [type]="TextType.BodyMd"
                    [weight]="TextWeight.Regular"
                    [color]="buttonTextColors() | getColor : state() : disabled() : false"
                >
                    {{ text() }}
                </ss-lib-text>
            }
        }

        @if (icon() | mapper : hasIcon :iconPosition() === IconPosition.End) {
            <ss-lib-icon
                [icon]="icon()!"
                [height]="'20'"
                [width]="'20'"
                [color]="buttonIconColors() | getColor : state() : disabled() : false"
            />
        }
    }
</button>
