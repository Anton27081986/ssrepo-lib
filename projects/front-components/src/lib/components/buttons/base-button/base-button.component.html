<button
	class="custom-button"
	[ngClass]="[
		'type-' + type(),
		'size-' + size(),
		iconPosition(),
		justifyContent(),
	]"
	[disabled]="disabled()"
	(mouseenter)="elementState.updateState(state, StateTypes.Hover, true)"
	(mouseleave)="elementState.updateState(state, StateTypes.Hover, false)"
	(mousedown)="elementState.updateState(state, StateTypes.Pressed, true)"
	(mouseup)="elementState.updateState(state, StateTypes.Pressed, false)"
	(blur)="elementState.updateState(state, StateTypes.Focused, false)"
	(focus)="elementState.checkFocus($event, state)"
>
	@if (icon() | mapper: hasIcon : iconPosition() === IconPosition.OnlyIcon) {
		<ss-lib-icon
			[icon]="icon()!"
			[height]="iconSize()"
			[width]="iconSize()"
			[color]="
				buttonIconColors()
					| getColor: state() : disabled() : true : isActive()
			"
		/>
	} @else {
		@if (icon() | mapper: hasIcon : iconPosition() === IconPosition.Start) {
			<ss-lib-icon
				[icon]="icon()!"
				[height]="iconSize()"
				[width]="iconSize()"
				[color]="
					buttonIconColors()
						| getColor: state() : disabled() : false : isActive()
				"
			/>
		}

		<div class="custom-button__text">
			<ss-lib-text
				[type]="buttonTextConfig().type"
				[weight]="buttonTextConfig().weight"
				[color]="
					buttonTextColors()
						| getColor: state() : disabled() : false : isActive()
				"
			>
				{{ text() }}
			</ss-lib-text>
		</div>

		@if (icon() | mapper: hasIcon : iconPosition() === IconPosition.End) {
			<ss-lib-icon
				[icon]="icon()!"
				[height]="iconSize()"
				[width]="iconSize()"
				[color]="
					buttonIconColors()
						| getColor: state() : disabled() : false : isActive()
				"
			/>
		}

		<ng-content></ng-content>
	}
</button>
