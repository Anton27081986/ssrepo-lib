<div class="form-field">
	@if (label()) {
		<div class="field-info">
			<div class="field-info__label">
				<ss-lib-text
					[type]="TextType.BodySm"
					[weight]="TextWeight.Semibold"
					[color]="Colors.TextBody2"
				>
					{{ label() }}
				</ss-lib-text>

				@if (isRequired()) {
					<ss-lib-text
						[type]="TextType.BodySm"
						[weight]="TextWeight.Medium"
						[color]="Colors.TextInformation"
					>
						*
					</ss-lib-text>
				}
			</div>
		</div>
	}

	@if (hint()) {
		<div class="field-info">
			<ss-lib-text
				[type]="TextType.BodySm"
				[weight]="TextWeight.Medium"
				[color]="Colors.TextBody3"
			>
				{{ hint() }}
			</ss-lib-text>
		</div>
	}

	<div
		class="field-container"
		[attr.tabindex]="fieldCtrl!.ngControl.disabled ? null : 0"
		[class.validation]="showValidation()"
		[class.state-disabled]="fieldCtrl!.ngControl.disabled"
		[class.show-border]="!showBorder()"
		[class]="'size-' + size()"
		[ngClass]="['state-' + currentFieldCtrlState()]"
		(focusout)="updateFormFieldStateOnFocusout()"
	>
		<div class="field-container__content-wrapper">
			@if (icon()) {
				<div class="field-container__content_left">
					<ss-lib-icon
						[color]="getColorIcon"
						[icon]="icon()!"
						[width]="'20'"
						[height]="'20'"
					></ss-lib-icon>
				</div>
			}

			<div class="field-container__content">
				<ng-content></ng-content>
			</div>

			<div class="field-container__content_right">
				@if (viewClearButton) {
					<ss-lib-close-button
						[size]="computedClearButtonSize()!"
						(click)="clearControl()"
					></ss-lib-close-button>
				}

				@if (
					!!tooltipInfoText() &&
					currentFieldCtrlState() !== ControlState.Invalid
				) {
					<div class="field-container__content_status">
						<ss-lib-status-icon
							ss-lib-tooltip
							[tooltipText]="tooltipInfoText()"
							[icon]="IconType.Help"
							[disabled]="!!fieldCtrl!.ngControl.disabled"
						/>
					</div>
				}

				@if (showValidationFieldIcon()) {
					<div
						class="field-container__content_status field-container__error-icon"
					>
						<ss-lib-status-icon
							ss-lib-tooltip
							[tooltipText]="errorText()"
							[icon]="IconType.Alert"
							[type]="statusIconType.Error"
						/>
					</div>
				}
			</div>
		</div>
	</div>

	@if (errorText() && !showValidationFieldIcon()) {
		<div class="field-container__error-message">
			<ss-lib-icon
				[icon]="IconType.Alert"
				[height]="'16'"
				[width]="'16'"
				[color]="Colors.IconError"
			/>

			<ss-lib-text
				[type]="TextType.BodySm"
				[weight]="TextWeight.Medium"
				[color]="Colors.TextError"
			>
				{{ errorText() }}
			</ss-lib-text>
		</div>
	}
</div>
