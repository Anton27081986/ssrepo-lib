.ss-lib-table {
	--ss-lib-table-padding: 0;
	--ss-lib-table-border: 1px solid var(--border-primary);
	--ss-lib-table-border-radius: 8px;
	--ss-lib-table-td-border-bottom: var(--ss-lib-table-border);
	--ss-lib-table-td-last-border-bottom: none;
	--ss-lib-table-td-padding: 12px 24px;
	--ss-lib-table-th-border-bottom: 1px solid var(--border-primary);
	--ss-lib-table-th-background-color: unset;
	--ss-lib-table-sort-icon-opacity: 0;
	--ss-lib-table-head-position: unset;

	width: 100%;
	isolation: isolate;

	&-tr:first-child:hover {
		background-color: unset;
	}

	&-tr:hover {
		background-color: var(--surface-action-hover-3); // -3
	}

	&-table {
		width: 100%;
		position: relative;
		border-collapse: collapse;
		border-spacing: 0;
		table-layout: fixed;
		overflow: hidden;
		transition: width 0.1s ease;

		border: var(--ss-lib-table-border);
		border-radius: var(--ss-lib-table-border-radius);

		th {
			display: table-cell;
			position: relative;
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
		}

		th:not(:first-child) {
			border-inline-start: none !important;
		}

		th:first-child {
			border-radius: var(--ss-lib-table-border-radius) 0 0 0;
		}

		th:last-child {
			border-radius: 0 var(--ss-lib-table-border-radius) 0 0;
		}

		tr:last-child &-td:first-child {
			border-radius: 0 0 0 var(--ss-lib-table-border-radius);
		}

		tr:last-child &-td:last-child {
			border-radius: 0 0 var(--ss-lib-table-border-radius) 0;
		}

		tr {
			transition: all 0.2s ease;
		}

		&__thead {
			background-color: var(--surface-information-2);
			position: relative;
		}

		&__thead--sticky {
			--ss-lib-table-th-background-color: var(--surface-information-2);
			--ss-lib-table-head-position: sticky;

			top: 0;
			z-index: 1;
		}

		&__tbody {
			tr {
				background-color: var(--surface-primary);
			}

			tr:hover {
				background-color: var(--surface-action-hover-3) !important;
			}

			tr.dragging:not(.drag-over) {
				background-color: var(--surface-action-pressed-3);
			}

			tr.drag-over:not(.dragging):not(:last-child) {
				background-color: var(--surface-information-selected-2);
				box-shadow: 0 4px 0 0 var(--border-focus) inset;
				z-index: 2;
			}

			tr.drag-over:not(.dragging):last-child:not(:first-child) {
				background-color: var(--surface-information-2);
				box-shadow: 0px -4px 0px 0px var(--border-focus) inset;
				z-index: 2;
			}

			tr.drag-over.dragging {
				background-color: var(--surface-action-pressed-3) !important;
				z-index: 2;
			}

			tr.drag-over.dragging:not(:last-child) {
				box-shadow: 0 3px 0 0 var(--border-secondary) inset;
				z-index: 2;
			}

			tr.drag-over.dragging:last-child:not(:first-child) {
				box-shadow: 0 -3px 0 0 var(--border-secondary) inset;
				z-index: 2;
			}
		}
	}
	&-th {
		border-bottom: var(--ss-lib-table-th-border-bottom);
		height: 41px;
	}

	&-td {
		border-bottom: 1px solid var(--border-primary);
		height: 82px;
	}

	&-th-item,
	&-td-item {
		display: flex;
		white-space: wrap;
		position: relative;
		padding: 0 24px;
	}

	&-th-item-align--left,
	&-td-item-align--left {
		justify-content: left;
	}

	&-th-item-align--righ,
	&-td-item-align--righ {
		justify-content: right;
	}

	&-th-item-align--center,
	&-td-item-align--center {
		justify-content: center;
	}

	&-th-item--no-padding,
	&-td-item--no-padding {
		padding: 0;
	}

	&-th-item-sticky,
	&-td-item-sticky {
		position: sticky;
		right: 0;
	}
}

.ss-lib-table-td,
.ss-lib-table-th {
	border: 1px solid var(--border-primary);
	border-width: 0 1px 1px 1px; // только по бокам и снизу
	transition:
		border-color 0.15s ease,
		background-color 0.15s ease;
}
//
//.ss-lib-table-tr:hover td,
//.ss-lib-table-tr:hover th {
//	border-color: transparent;
//}

// При ховере строки — делаем границы прозрачными
.ss-lib-table-tr:hover td,
.ss-lib-table-tr:hover th,
.ss-lib-table-tr.dragging td,
.ss-lib-table-tr.dragging th,
.ss-lib-table-tr.drag-over td,
.ss-lib-table-tr.drag-over th {
	border-color: transparent;
}

// Но сохраняем левую границу у первой ячейки
.ss-lib-table-tr:hover td:first-child,
.ss-lib-table-tr:hover th:first-child,
.ss-lib-table-tr.dragging td:first-child,
.ss-lib-table-tr.dragging th:first-child,
.ss-lib-table-tr.drag-over td:first-child,
.ss-lib-table-tr.drag-over th:first-child {
	border-left-color: var(--border-primary);
}

// И правую границу у последней ячейки
.ss-lib-table-tr:hover td:last-child,
.ss-lib-table-tr:hover th:last-child,
.ss-lib-table-tr.dragging td:last-child,
.ss-lib-table-tr.dragging th:last-child {
	border-right-color: var(--border-primary);
}

// У последней строки — нижняя граница
.ss-lib-table-tr:last-child td,
.ss-lib-table-tr:last-child th {
	border-bottom-color: var(--border-primary);
}
